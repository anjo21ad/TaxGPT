 /*********************************************************************/
 /* BH94304M                                                          */
 /* FÆLLES OPSÆTNING AF SØGEKRITERIER SÅ DET IKKE LIGGER SÅ MANGE     */
 /* STEDER I KODEN. EVTUELLE AFVIGELSER OPSÆTTES I DE ENKELT PROCDURE */
 /*                                                                   */
 /*********************************************************************/
 UDFYLD_SØG: PROC;                                                      
                                                                        
 DCL     STORE       CHAR (29) INIT ('ABCDEFGHIJKLMNOPQRSTUVWXYZÅØÆ');  
 DCL     SMÅ         CHAR (29) INIT ('abcdefghijklmnopqrstuvwxyzåøæ');  
                                                                        
         SØG_DCPR      = BH946.SORT_CPR;                                
         SØG_EKOMNR    = BH946.ESR.EKOMNR;                              
         HJ_PIC4       = BH946.VEJK_EJD;                                
         SØG_VEJK_EJD  = HJ_PIC4;                                       
                                                                        
     /*  PUT SKIP LIST('SØG_DCPR       ',SØG_DCPR       );              
         PUT SKIP LIST('SØG_EKOMNR     ',SØG_EKOMNR     );              
         PUT SKIP LIST('SØG_VEJK_EJD   ',SØG_VEJK_EJD   ); */           
                                                                        
         SØG_HUSNR_EJD1 = SUBSTR(BH946.HUSNR_EJD,1,3);                  
         SØG_HUSNR_EJD2 = SUBSTR(BH946.HUSNR_EJD,1,3);                  
                                                                        
         IF SØG_HUSNR_EJD1 = '   '                                      
         THEN                                                           
           SØG_HUSNR_EJD2 = '000';                                      
                                                                        
         IF SØG_HUSNR_EJD1 = '000'                                      
         THEN                                                           
           SØG_HUSNR_EJD2 = '   ';                                      
                                                                        
      /* PUT SKIP LIST('SØG_HUSNR_EJD1 ',SØG_HUSNR_EJD1 );              
         PUT SKIP LIST('SØG_HUSNR_EJD2 ',SØG_HUSNR_EJD2 ); */           
                                                                        
         HJ_CHAR1 = SUBSTR(BH946.HUSNR_EJD,4,1);                        
         SØG_HUSBOGSTAV1 = TRANSLATE (HJ_CHAR1, STORE, SMÅ);            
         SØG_HUSBOGSTAV2 = TRANSLATE (HJ_CHAR1, SMÅ, STORE);            
                                                                        
         SELECT;                                                        
           WHEN(BH946.ETAGE_EJD = '  ' ! BH946.ETAGE_EJD = '00')        
             DO;                                                        
               SØG_ETAGE1 = BH946.ETAGE_EJD;                            
               SØG_ETAGE2 = '  ';                                       
               SØG_ETAGE3 = '00';                                       
             END;                                                       
           WHEN(VERIFY(SUBSTR(BH946.ETAGE_EJD,1,1),' 0') = 0 &          
                VERIFY(SUBSTR(BH946.ETAGE_EJD,2,1),'0123456789') = 0)   
             DO;                                                        
               SØG_ETAGE1 = BH946.ETAGE_EJD;                            
               SØG_ETAGE2 = '0' !! SUBSTR(BH946.ETAGE_EJD,2,1);         
               SØG_ETAGE3 = ' ' !! SUBSTR(BH946.ETAGE_EJD,2,1);         
             END;                                                       
           OTHER                                                        
             DO;                                                        
               SØG_ETAGE1 = BH946.ETAGE_EJD;                            
               SØG_ETAGE2 = TRANSLATE (BH946.ETAGE_EJD, STORE, SMÅ);    
               SØG_ETAGE3 = TRANSLATE (BH946.ETAGE_EJD, SMÅ, STORE);    
             END;                                                       
         END; /*SELECT*/                                                
                                                                        
      /* PUT SKIP LIST('SØG_ETAGE1 ',SØG_ETAGE1);                       
         PUT SKIP LIST('SØG_ETAGE2 ',SØG_ETAGE2);                       
         PUT SKIP LIST('SØG_ETAGE3 ',SØG_ETAGE3); */                    
                                                                        
   /*    PUT SKIP LIST('BH946.SDØR_EJD =',BH946.SDØR_EJD);*/            
                                                                        
         IF VERIFY(BH946.SDØR_EJD,'0123456789') = 0                     
         THEN                                                           
           DO;                                                          
             SØG_SIDE_DØRNR1 = TRIM(BH946.SDØR_EJD,' 0');               
             SØG_SIDE_DØRNR2 = BH946.SDØR_EJD;                          
             HJ_PIC4         = BH946.SDØR_EJD;                          
             SØG_SIDE_DØRNR3 = HJ_PIC4;                                 
           END;                                                         
         ELSE                                                           
           DO;                                                          
             /* FELTET ER VENSTRE STILLET I TABELLEN*/                  
             SØG_SIDE_DØRNR1 = TRIM(BH946.SDØR_EJD,' 0');               
             SØG_SIDE_DØRNR2 = TRANSLATE (SØG_SIDE_DØRNR1, STORE, SMÅ); 
             SØG_SIDE_DØRNR3 = TRANSLATE (SØG_SIDE_DØRNR1, SMÅ, STORE); 
           END;                                                         
                                                                        
 END UDFYLD_SØG;                                                        
