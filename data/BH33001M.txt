 /*-------------------------------------------------------------------*/
 /* BH33001M MAKRO TIL KONVERTERINGER                                 */
 /*                                                                   */
 /* FLG. INDLAGT: DB2_DATO_TIL_FIX09                                  */
 /*                                                                   */
 /* INDDATA: SE PROCEDUREN                                            */
 /* UDDATA : SE PROCEDUREN                                            */
 /*                                                                   */
 /*-------------------------------------------------------------------*/
 /*-------------------------------------------------------------------*/
 /* DB2_DATO_TIL_FIX09                                                */
 /* HVIS DATO = BLANKE, RETURNES 0                                    */
 /*-------------------------------------------------------------------*/
 DB2_DATO_TIL_FIX09: PROC (DB2_DATO_IND) RETURNS (DEC FIXED (09));      
                                                                        
 DCL     DB2_DATO_IND    CHAR      (10);   /* ÅÅÅÅ-MM-DD*/              
 DCL     DATO_CHAR       CHAR      (08);   /* ÅÅÅÅMMDD  */              
 DCL     DATO_PIC        PIC       '99999999' DEF DATO_CHAR;            
 DCL     DATO_FIX        DEC FIXED (09);                                
                                                                        
         DATO_CHAR = SUBSTR (DB2_DATO_IND,1,4) !!                       
                     SUBSTR (DB2_DATO_IND,6,2) !!                       
                     SUBSTR (DB2_DATO_IND,9,2);                         
                                                                        
         IF DB2_DATO_IND = ''                                           
         THEN                                                           
            DATO_PIC = 0;                                               
                                                                        
         DATO_FIX = DATO_PIC;                                           
                                                                        
         RETURN (DATO_FIX);                                             
                                                                        
 END DB2_DATO_TIL_FIX09;                                                
