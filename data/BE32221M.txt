 /*********************************************************************/
 /* BE32200M - OPSÆT START- OG SLUTDATO FOR EN PERSONS INDKOMSTÅR     */
 /*            HØRENDE TIL EVS SLUT 2015 UNDER HENSYNTAGEN TIL AT     */
 /*            PERSONEN MÅSKE HAR FORSKUDT REGNSKABSÅR.               */
 /*            BO SCHMIDT                                             */
 /*            MAKROEN ER TILRETTET SLUT 2008           SØG EFTER RUL */
 /* OKT09/GEH: MAKROEN ER TILRETTET SLUT 2009           SØG EFTER RUL */
 /* OKT10/GEH: MAKROEN ER TILRETTET SLUT 2010           SØG EFTER RUL */
 /* OKT11/GEH: MAKROEN ER TILRETTET SLUT 2011           SØG EFTER RUL */
 /* SEP12/LKA: MAKROEN ER TILRETTET SLUT 2012           SØG EFTER RUL */
 /* NOV25/QEB: MAKROEN ER TILRETTET SLUT 2014           SØG EFTER RUL */
 /* OKT28/JNK: MAKROEN ER TILRETTET SLUT 2015           SØG EFTER RUL */
 /* SLUT 2015: ESBEN BRODERSEN                                        */
 /* MAKROEN ER OMLAGT TIL AT TAGE VÆRDIER FRA BE55300M #01            */
 /* SLUT 2020: Elena Flygenring EFL                     marts 2021    */
 /*            struktur BE65300M erstattes med BE55300M               */
 /* SLUT 2024: Jan Jensen JJJ                           juni  2024    */
 /*            struktur BE55300M erstattes med BE55600M               */
 /*********************************************************************/
 OPSÆT_INDKOMSTÅR:                                                      
 PROC(CFRÅR,DRGNÅRFRA,DRGNÅRTIL);                                       
                                                                        
 DCL     CFRÅR          CHAR      (2);                                  
 DCL     DRGNÅRFRA      FIXED     (9);                                  
 DCL     DRGNÅRTIL      FIXED     (9);                                  
                                                                        
         SELECT;                                                        
                                                                        
           WHEN ( CFRÅR = '01' )                                        
             DO;                                                        
                DRGNÅRFRA = BE55600M.ÅR0101;   /*#01 SLUTÅR+0101*/      
                DRGNÅRTIL = BE55600M.ÅR1231;   /*#01 SLUTÅR+1231*/      
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '02' ) /*Fremad forskudt regnskab*/           
             DO;                                                        
                DRGNÅRFRA = BE55600M.ÅR0201;      /*#01 SLUTÅR+0201*/   
                DRGNÅRTIL = BE55600M.FORSKÅR0131; /*#01 FORSKÅR+0131*/  
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '03' )                                        
             DO;                                                        
                DRGNÅRFRA = BE55600M.GLÅR0301; /*#01 GLSLUTÅR+0301*/    
                DRGNÅRTIL = BE55600M.ÅR0229;   /*#01 SLUTÅR+0229  */    
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '04' )                                        
             DO;                                                        
                                                                        
                DRGNÅRFRA = BE55600M.GLÅR0401; /*#01 GLSLUTÅR+0401*/    
                DRGNÅRTIL = BE55600M.ÅR0331;   /*#01 SLUTÅR+0331  */    
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '05' )                                        
             DO;                                                        
                DRGNÅRFRA = BE55600M.GLÅR0501; /*#01 GLSLUTÅR+0501*/    
                DRGNÅRTIL = BE55600M.ÅR0430;   /*#01 SLUTÅR+0430  */    
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '06' )                                        
             DO;                                                        
                DRGNÅRFRA = BE55600M.GLÅR0601; /*#01 GLSLUTÅR+0601*/    
                DRGNÅRTIL = BE55600M.ÅR0531;   /*#01 SLUTÅR+0531  */    
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '07' )                                        
             DO;                                                        
                DRGNÅRFRA = BE55600M.GLÅR0701; /*#01 GLSLUTÅR+0701*/    
                DRGNÅRTIL = BE55600M.ÅR0630;   /*#01 SLUTÅR+0630  */    
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '08' )                                        
             DO;                                                        
                DRGNÅRFRA = BE55600M.GLÅR0801; /*#01 GLSLUTÅR+0801*/    
                DRGNÅRTIL = BE55600M.ÅR0731;   /*#01 SLUTÅR+0731  */    
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '09' )                                        
             DO;                                                        
                DRGNÅRFRA = BE55600M.GLÅR0901; /*#01 GLSLUTÅR+0901*/    
                DRGNÅRTIL = BE55600M.ÅR0831;   /*#01 SLUTÅR+0831  */    
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '10' )                                        
             DO;                                                        
                DRGNÅRFRA = BE55600M.GLÅR1001; /*#01 GLSLUTÅR+1001*/    
                DRGNÅRTIL = BE55600M.ÅR0930;   /*#01 SLUTÅR+0930  */    
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '11' )                                        
             DO;                                                        
                DRGNÅRFRA = BE55600M.GLÅR1101; /*#01 GLSLUTÅR+1101*/    
                DRGNÅRTIL = BE55600M.ÅR1031;   /*#01 SLUTÅR+1031  */    
             END;                                                       
                                                                        
           WHEN ( CFRÅR = '12' )                                        
             DO;                                                        
                DRGNÅRFRA = BE55600M.GLÅR1201; /*#01 GLSLUTÅR+1201*/    
                DRGNÅRTIL = BE55600M.ÅR1130;   /*#01 SLUTÅR+1130  */    
             END;                                                       
                                                                        
           OTHERWISE                                                    
             DO;                                                        
                DRGNÅRFRA = BE55600M.ÅR0101;   /*#01 SLUTÅR+0101*/      
                DRGNÅRTIL = BE55600M.ÅR1231;   /*#01 SLUTÅR+1231*/      
             END;                                                       
                                                                        
         END;        /* SELECT */                                       
                                                                        
 END OPSÆT_INDKOMSTÅR;                                                  
