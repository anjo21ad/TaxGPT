                                                                        
 /*********************************************************************/
 /*        BH80156M BEREGN REDUCEREDE LEJEVÆRDIER FOR EJENDOMMEN      */
 /*                 FÆLLES MACRO TIL :                                */
 /*                 BH80110 BOY                                       */
 /*  OBS.: I N D E N  KALD AF PROCEDUREN ----                         */
 /*        HUSK AT BENYTTE CPERTYPE FOR AKTUELT INDKOMSTÅR.           */
 /*        DESUDEN SKAL BH801.EJD_19??(1).BLEJEXX  E L L E R          */
 /*                     BH801.SOM_19??(1).BLEJEXX SÆTTES LIG          */
 /*        EJENDOMMENS 3 LEJEVÆRDIER FOR GL. INDKOMSTÅR (HVIS DE      */
 /*        ALTSÅ ER BEREGNET, ELLERS SKAL VÆRDIERNE VÆRE NULSTILLET). */
 /*        KALDES EFTER BEREGNING AF DE UREDUCEREDE LEJEVÆRDIER FOR   */
 /*        EJENDOMMEN (VIA BH85055M), MEN  K U N  HVIS                */
 /*        EJENDOMMEN IKKE ER UNDTAGET FOR REDUKTION (TESTET VIA      */
 /*        BH85059M), SAMT HVIS EJENDOMMEN BLEV BEREGNET SIDSTE ÅR.   */
 /*********************************************************************/
 REDUCER_EJENDOM:                                                       
       PROC(TAB_LEJEV);                                                 
 DCL   1 TAB_LEJEV(3),                  /* EJENDOMMENS 3 LEJEVÆRDIER  */
         2 BLEJE      FIXED  (11),      /* LEJEV. NORMAL              */
         2 BLEJEFP    FIXED  (11),      /* LEJEV. FØRTIDSPENS./EFTERL.*/
         2 BLEJE67    FIXED  (11);      /* LEJEVÆRDI PENSIONIST       */
                                        /* 1=SIDSTE ÅRS VÆRDIER       */
                                        /* 2=NYT ÅRS VÆRDIER UREDUC.  */
                                        /* 3=NYT ÅRS VÆRDIER REDUC.   */
         CREDUKT = 1;                                                   
         CALL REDUKTION(TAB_LEJEV(1).BLEJE,          /*NORMAL GL*/      
                        TAB_LEJEV(2).BLEJE,          /*NORMAL NY*/      
                        TAB_LEJEV(3).BLEJE,          /*NORMAL NY*/      
                        CREDUKT,CREDUKTTYP);                            
         IF BH801.CPER_ORD = 1 !                                        
            BH801.CPER_ORD = 4                                          
         THEN                                                           
            PER_LEJEV(1).CREDTYP = CREDUKTTYP;                          
         CREDUKT = 2;                                                   
         CALL REDUKTION(TAB_LEJEV(1).BLEJEFP,        /*FØRTID GL*/      
                        TAB_LEJEV(2).BLEJEFP,        /*FØRTID NY*/      
                        TAB_LEJEV(3).BLEJEFP,        /*FØRTID NY*/      
                        CREDUKT,CREDUKTTYP);                            
         IF BH801.CPER_ORD = 2                                          
         THEN                                                           
            PER_LEJEV(1).CREDTYP = CREDUKTTYP;                          
         CREDUKT = 2;                                                   
         CALL REDUKTION(TAB_LEJEV(1).BLEJE67,        /*67 ÅR  GL*/      
                        TAB_LEJEV(2).BLEJE67,        /*67 ÅR  NY*/      
                        TAB_LEJEV(3).BLEJE67,        /*67 ÅR  NY*/      
                        CREDUKT,CREDUKTTYP);                            
         IF BH801.CPER_ORD = 3                                          
         THEN                                                           
            PER_LEJEV(1).CREDTYP = CREDUKTTYP;                          
 END REDUCER_EJENDOM;                                                   
