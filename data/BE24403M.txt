 /********************************************************************/ 
 /*  MACRO BE24403M : TJEK GRÆNSE                                    */ 
 /*  BRUGES AF PROGRAMMERNE                                          */ 
 /*  -  BE22400                                                      */ 
 /*  -  BE22600                                                      */ 
 /********************************************************************/ 
 /*                Ny udgave af macro BQ24403M til BE24403M ifm.     */ 
 /*                EVS Ny lov modtag individ 132                     */ 
 /********************************************************************/ 
 TJEK_GRAENSE: PROC(NR,FEJLTYPE,FELTTYPE,START_IDX,SLUT_IDX,            
                    FELT,STR_LIMIT) RETURNS(BIT(1));                    
    DCL NR             BINARY FIXED(15);                                
    DCL FEJLTYPE       BINARY FIXED(15);                                
    DCL FELTTYPE       BINARY FIXED(15);                                
    DCL START_IDX      BINARY FIXED(15);                                
    DCL SLUT_IDX       BINARY FIXED(15);                                
    DCL FELT           CHAR(50);                                        
    DCL STR_LIMIT      BINARY FIXED(15);                                
                                                                        
    IF TFLAG THEN DO;                                                   
       PUT SKIP LIST('***** TJEK_GRAENSE *****');                       
       PUT SKIP LIST('INPUT: NR = '!!NR!!'   FEJLTYPE = '!!FEJLTYPE!!   
                     '   START INX = '!!START_IDX!!'   SLUT INX = '!!   
                     SLUT_IDX!!'   STRENG LIMIT = '!!STR_LIMIT!!        
                     '   FELT = '!!FELT);                               
    END;                                                                
                                                                        
    IF (SLUT_IDX - START_IDX + 1) > STR_LIMIT                           
    THEN                                                                
      DO;                                                               
         PUT SKIP LIST('BE24403M - TJEK GRÆNSE:  ' );         /*ÅR-RET*/
         PUT SKIP LIST('   FELTTYPE: ' !! FELTTYPE );                   
         PUT SKIP LIST('  START_IDX: ' !! START_IDX);                   
         PUT SKIP LIST('   SLUT_IDX: ' !! SLUT_IDX);                    
         PUT SKIP LIST('ANT_ANF_TGN: ' !! ANT_ANF_TGN);                 
         PUT SKIP LIST('  STR_LIMIT: ' !! STR_LIMIT);                   
         CALL SKRIV_FEJL_TEXT(NR,FEJLTYPE,FELTTYPE,START_IDX,SLUT_IDX,  
                              FELT);                                    
         RETURN('1'B);                                                  
      END;                                                              
    ELSE                                                                
         RETURN('0'B);                                                  
 END TJEK_GRAENSE;                                                      
