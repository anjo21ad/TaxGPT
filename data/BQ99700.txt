 BQ99700: /* BEHANDL UDTRÆK MED OMBEREGNET ERHVERVSMÆSSIG EJD.SKAT */   
         PROC (EXECPARM) OPTIONS (MAIN) REORDER;                        
         DCL COPYRIGHT   CHAR      (30) STATIC                          
                         INIT ('COPYRIGHT KOMMUNEDATA I/S 1999');       
 /*********************************************************************/
 /*                                                                   */
 /*      FORMÅL       SKRIV 'nødskærmbillede' til brugertest EVS 2001 */
 /*                   samt produktionstest                            */
 /*                                                                   */
 /*      INDDATA      BEREGNINGSBÅND                                  */
 /*                                                                   */
 /*      UDDATA       BQ99701Y                                        */
 /*                                                                   */
 /*      PROGRAMMØR   AAGE RASMUSSEN PFB SKAT, AUG   1999             */
 /*                                                                   */
 /*********************************************************************/
         DEFAULT RANGE (*) STATIC;                                      
 DCL     EXECPARM        CHAR      (10) VAR;                            
 DCL     EX_PARM1        CHAR      (8);                                 
 DCL     EX_PARM2        CHAR      (4);                                 
         EX_PARM1 = EXECPARM;                                           
         EX_PARM2 = EXECPARM;                                           
 /*********************************************************************/
 /*      FILE-DECLARE                                                 */
 /*********************************************************************/
 DCL     BH961I          FILE RECORD INPUT;                             
 DCL     SYSPRINT EXTERNAL FILE PRINT;                                  
 /*********************************************************************/
 /*      ENTRY-DECLARE                                                */
 /*********************************************************************/
 DCL     ZS61900         ENTRY OPTIONS (INTER ASM);   /* SSI-DATO     */
 /*********************************************************************/
 /*      STRUCTUR-DECLARE  INPUT                                      */
 /*********************************************************************/
 DCL     BH961_AR CHAR (314);                                           
 DCL     1 BH961 BASED(ADDR(BH961_AR)),                                 
           %INCLUDE BH96110N;;                                          
 /*********************************************************************/
 /*      DECLARE AF PRINTLINIER                                       */
 /*********************************************************************/
 DCL     LINIE       CHAR (133);                                        
 DCL     LINTAB (50) CHAR (133);                                        
 DCL     LINIE1 CHAR (133)  BASED(ADDR(LIN1));                          
 DCL     1 LIN1,                                                        
          2 CTL          CHAR      (1),                                 
          2 EKOMNR       PIC       '999',                               
          2 BLANK1       CHAR      (1)       INIT      (' '),           
          2 EJDNR        CHAR      (7),                                 
          2 BLANK2       CHAR      (3)       INIT      ('   '),         
          2 CPRNR        CHAR      (11),                                
          2 BLANK3       CHAR      (3)       INIT      ('   '),         
          2 TX1          CHAR      (12)      INIT                       
            ('Beregn.kode '),                                           
          2 CEJBEVS      CHAR      (1),                                 
          2 BLANK4       CHAR      (3)       INIT      ('   '),         
          2 TX2          CHAR      (9)       INIT                       
            ('Ber.grl. '),                                              
          2 BBERGRL      PIC       'ZZZZZZZZZZ9',                       
          2 BLANK5       CHAR      (3)       INIT      ('   '),         
          2 TX3          CHAR      (9)       INIT                       
            ('Ejd.type '),                                              
          2 CEJDTYPE     CHAR      (1),                                 
          2 REST         CHAR      (55)      INIT      ((55)' ');       
 DCL     L1_BL   CHAR (11)  BASED(ADDR(LIN1.BBERGRL));                  
                                                                        
 DCL     LINIE2 CHAR (133)  BASED(ADDR(LIN2));                          
 DCL     1 LIN2,                                                        
          2 CTL          CHAR      (1),                                 
          2 BLANK1       CHAR      (14)      INIT      ((14)' '),       
          2 CPRNR        CHAR      (11),                                
          2 BLANK2       CHAR      (3)       INIT      ('   '),         
          2 TX1          CHAR      (11)      INIT                       
            ('Benyt.kode '),                                            
          2 CBENYT       CHAR      (2),                                 
          2 BLANK3       CHAR      (3)       INIT      ('   '),         
          2 TX2          CHAR      (13)      INIT                       
            ('Ber.grl.kode '),                                          
          2 CBERGRL      CHAR      (1),                                 
          2 BLANK4       CHAR      (5)       INIT      ((5)' '),        
          2 REST         CHAR      (69)      INIT      ((69)' ');       
                                                                        
 DCL     LINIE3 CHAR (133)  BASED(ADDR(LIN3));                          
 DCL     1 LIN3,                                                        
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (39)      INIT                       
            ('10 prom'),                                                
          2 BGRPROM1     PIC       '------------9',                     
          2 BLANK3       CHAR      (10)      INIT      ((10)' '),       
          2 BPROM1       PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
 DCL     L3_BL   CHAR (13)  BASED(ADDR(LIN3.BGRPROM1));                 
                                                                        
 DCL     LINIE4 CHAR (133)  BASED(ADDR(LIN4));                          
 DCL     1 LIN4,                                                        
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (39)      INIT                       
            ('30 prom'),                                                
          2 BGRPROM2     PIC       '------------9',                     
          2 BLANK3       CHAR      (10)      INIT      ((10)' '),       
          2 BPROM2       PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
 DCL     L4_BL   CHAR (13)  BASED(ADDR(LIN4.BGRPROM2));                 
                                                                        
 DCL     LINIE5 CHAR (133)  BASED(ADDR(LIN5));                          
 DCL     1 LIN5,                                                        
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (14)      INIT                       
            ('2 prom nedslag'),                                         
          2 BLANK1       CHAR      (4)       INIT      ((4)' '),        
          2 CNEDSL1      CHAR      (2),                                 
          2 BLANK2       CHAR      (6)       INIT      ((6)' '),        
          2 BLANK3       CHAR      (36)      INIT      ((36)' '),       
          2 BNEDSL1      PIC       '---------9,V99',                    
          2 REST         CHAR      (57)      INIT      ((57)' ');       
                                                                        
 DCL     LINIE6 CHAR (133)  BASED(ADDR(LIN6));                          
 DCL     1 LIN6,                                                        
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (14)      INIT                       
            ('4 prom nedslag'),                                         
          2 BLANK1       CHAR      (6)       INIT      ((6)' '),        
          2 BLANK2       CHAR      (19)      INIT      ((19)' '),       
          2 BBER2FAM     PIC       '------------9',                     
          2 BLANK3       CHAR      (10)      INIT      ((10)' '),       
          2 BNEDSL2      PIC       '---------9,V99',                    
          2 REST         CHAR      (56)      INIT      ((56)' ');       
 DCL     L6_BL   CHAR (13)  BASED(ADDR(LIN6.BBER2FAM));                 
                                                                        
 DCL     LINIE7 CHAR (133)  BASED(ADDR(LIN7));                          
 DCL     1 LIN7,                                                        
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (14)      INIT                       
            ('Pensnedslag'),                                            
          2 BLANK1       CHAR      (4)       INIT      ((4)' '),        
          2 CPENSNED     CHAR      (1),                                 
          2 BLANK2       CHAR      (43)      INIT      ((43)' '),       
          2 BPENSNED     PIC       '---------9,V99',                    
          2 REST         CHAR      (57)      INIT      ((57)' ');       
                                                                        
 DCL     LINIE8 CHAR (133)  BASED(ADDR(LIN8));                          
 DCL     1 LIN8,                                                        
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (64)      INIT      ('SUM'),         
          2 BSUM1        PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
                                                                        
 DCL     LINIE9 CHAR (133)  BASED(ADDR(LIN9));                          
 DCL     1 LIN9,                                                        
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (12)      INIT                       
            ('Stign.begr.'),                                            
          2 BLANK1       CHAR      (6)       INIT      ((6)' '),        
          2 CSTIBEGR     CHAR      (1),                                 
          2 BLANK2       CHAR      (7)       INIT      ((7)' '),        
          2 BLANK3       CHAR      (24)      INIT      ((24)' '),       
          2 CSTIBLB      CHAR      (2),                                 
          2 BLANK4       CHAR      (10)      INIT      ((10)' '),       
          2 BSTIBGR      PIC       '---------9,V99',                    
          2 REST         CHAR      (58)      INIT      ((58)' ');       
                                                                        
 DCL     LINIE10 CHAR (133) BASED(ADDR(LIN10));                         
 DCL     1 LIN10,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (25)      INIT                       
            ('Red af pens nedsl 6 % af '),                              
          2 BPENSIND     PIC       '---------9,V99',                    
          2 MINUS        CHAR      (1)       INIT      ('-'),           
          2 BPENSGR      PIC       'ZZZZZZZZ9,V99',                     
          2 BLANK1       CHAR      (13)      INIT      ((13)' '),       
          2 BPENSRED     PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
                                                                        
 DCL     LINIE11 CHAR (133)  BASED(ADDR(LIN11));                        
 DCL     1 LIN11,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (64)      INIT                       
            ('SUM'),                                                    
          2 BBRUTTO      PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
                                                                        
 DCL     LINIE12 CHAR (133)  BASED(ADDR(LIN12));                        
 DCL     1 LIN12,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('Periode ej ejet '),                                       
          2 FDAGEJEJ     PIC       'ZZ9',                               
          2 TX2          CHAR      (5)       INIT      (' dage'),       
          2 BLANK1       CHAR      (40)      INIT      ((40)' '),       
          2 BEJERED      PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
                                                                        
 DCL     LINIE13 CHAR (133)  BASED(ADDR(LIN13));                        
 DCL     1 LIN13,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('Udlejning'),                                              
          2 GPCTUDLE     PIC       'Z99,99',                            
          2 TX2          CHAR      (1)       INIT      ('%'),           
          2 BLANK1       CHAR      (6)       INIT      ((6)' '),        
          2 FDAGUDLE     PIC       'ZZ9',                               
          2 TX3          CHAR      (5)       INIT      (' dage'),       
          2 BLANK2       CHAR      (27)      INIT      ((27)' '),       
          2 BUDLERED     PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
                                                                        
 DCL     LINIE14 CHAR (133)  BASED(ADDR(LIN14));                        
 DCL     1 LIN14,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('Erhverv'),                                                
          2 GPCTERHV     PIC       'Z99,99',                            
          2 TX2          CHAR      (1)       INIT      ('%'),           
          2 BLANK1       CHAR      (6)       INIT      ((6)' '),        
          2 FDAGERHV     PIC       'ZZ9',                               
          2 TX3          CHAR      (5)       INIT      (' dage'),       
          2 BLANK2       CHAR      (27)      INIT      ((27)' '),       
          2 BERHVRED     PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
                                                                        
 DCL     LINIE15 CHAR (133)  BASED(ADDR(LIN15));                        
 DCL     1 LIN15,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (64)      INIT                       
            ('SUM (Ejendomsværdiskat 100%)'),                           
          2 B100         PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
                                                                        
 DCL     LINIE16 CHAR (133)  BASED(ADDR(LIN16));                        
 DCL     1 LIN16,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('Ejerandel'),                                              
          2 GPCTEJER     PIC       'Z99,V99',                           
          2 TX2          CHAR      (1)       INIT      ('%'),           
          2 BLANK1       CHAR      (41)      INIT      ((41)' '),       
          2 REST         CHAR      (69)      INIT      ((69)' ');       
                                                                        
 DCL     LINIE17 CHAR (133)  BASED(ADDR(LIN17));                        
 DCL     1 LIN17,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (64)      INIT                       
            ('Betalt udenlandsk ejd.skat, credit'),                     
          2 BUDLSKC      PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
                                                                        
 DCL     LINIE18 CHAR (133)  BASED(ADDR(LIN18));                        
 DCL     1 LIN18,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (64)      INIT                       
            ('Ejd.værdiskat excl. udenlandsk skat'),                    
          2 BEJERANU     PIC       '---------9,V99',                    
          2 REST         CHAR      (55)      INIT      ((55)' ');       
                                                                        
 DCL     LINIE19 CHAR (133)  BASED(ADDR(LIN19));                        
 DCL     1 LIN19,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (7)       INIT                       
            ('Fejlnr '),                                                
          2 FEJLNR       CHAR      (4),                                 
          2 REST         CHAR      (121)     INIT      ((121)' ');      
                                                                        
 DCL     LINIE20 CHAR (133)  BASED(ADDR(LIN20));                        
 DCL     1 LIN20,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (17)      INIT                       
            ('Lejeværdi alm.   '),                                      
          2 BALMGL       PIC       'ZZZZZZZZZZ9',                       
          2 BLANK1       CHAR      (3)       INIT      ((3)' '),        
          2 TX2          CHAR      (21)      INIT                       
            ('Standardfradrag      '),                                  
          2 BSTDGL       PIC       'ZZZZZZZZZZ9',                       
          2 BLANK3       CHAR      (14)      INIT      ((14)' '),       
          2 REST         CHAR      (55)      INIT      ((55)' ');       
 DCL     L20_BL1  CHAR (11)  BASED(ADDR(LIN20.BALMGL));                 
 DCL     L20_BL2  CHAR (11)  BASED(ADDR(LIN20.BSTDGL));                 
                                                                        
 DCL     LINIE21 CHAR (133)  BASED(ADDR(LIN21));                        
 DCL     1 LIN21,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (17)      INIT                       
            ('Lejeværdi FP     '),                                      
          2 BFPGL        PIC       'ZZZZZZZZZZ9',                       
          2 BLANK1       CHAR      (3)       INIT      ((3)' '),        
          2 TX2          CHAR      (21)      INIT                       
            ('Persontype 1999      '),                                  
          2 CPTYPGL      CHAR      (1),                                 
          2 REST         CHAR      (74)      INIT      ((74)' ');       
 DCL     L21_BL   CHAR (11)  BASED(ADDR(LIN21.BFPGL));                  
                                                                        
 DCL     LINIE22 CHAR (133)  BASED(ADDR(LIN22));                        
 DCL     1 LIN22,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (17)      INIT                       
            ('Lejeværdi 67 år '),                                       
          2 BPENSGL      PIC       'ZZZZZZZZZZ9',                       
          2 BLANK1       CHAR      (3)       INIT      ((3)' '),        
          2 TX2          CHAR      (21)      INIT                       
            ('Persontype 2001      '),                                  
          2 CPTYPSLUT    CHAR      (1),                                 
          2 REST         CHAR      (74)      INIT      ((74)' ');       
 DCL     L22_BL   CHAR (11)  BASED(ADDR(LIN22.BPENSGL));                
                                                                        
 DCL     LINIE23 CHAR (133)  BASED(ADDR(LIN23));                        
 DCL     1 LIN23,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (17)      INIT                       
            ('BLEJEANV        '),                                       
          2 BLEJEANV     PIC       'ZZZZZZZZZZ9',                       
          2 BLANK1       CHAR      (8)       INIT      ((8)' '),        
          2 TX2          CHAR      (14)      INIT                       
            ('ELBNR         '),                                         
          2 ELBNR        PIC       'ZZ9',                               
          2 REST         CHAR      (79)      INIT      ((79)' ');       
 DCL     L23_BL   CHAR (11)  BASED(ADDR(LIN23.BLEJEANV));               
                                                                        
 DCL     LINIE24 CHAR (133)  BASED(ADDR(LIN24));                        
 DCL     1 LIN24,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('FLEJL           '),                                       
          2 FLEJL        PIC       'ZZ9',                               
          2 BLANK1       CHAR      (17)      INIT      ((17)' '),       
          2 TX2          CHAR      (16)      INIT                       
            ('EJDBELIG        '),                                       
          2 EJDBELIG     CHAR      (32),                                
          2 REST         CHAR      (48)      INIT      ((48)' ');       
                                                                        
 DCL     LINIE25 CHAR (133)  BASED(ADDR(LIN25));                        
 DCL     1 LIN25,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('CELØNCOR        '),                                       
          2 CELØNCOR     CHAR      (1),                                 
          2 BLANK1       CHAR      (19)      INIT      ((19)' '),       
          2 TX2          CHAR      (16)      INIT                       
            ('DOVTG           '),                                       
          2 DOVTG        CHAR      (10),                                
          2 REST         CHAR      (69)      INIT      ((69)' ');       
                                                                        
 DCL     LINIE26 CHAR (133)  BASED(ADDR(LIN26));                        
 DCL     1 LIN26,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('CSKPLOMF        '),                                       
          2 CSKPLOMF     CHAR      (1),                                 
          2 BLANK1       CHAR      (19)      INIT      ((19)' '),       
          2 TX2          CHAR      (16)      INIT                       
            ('DAFSTAA         '),                                       
          2 DAFSTAA      CHAR      (10),                                
          2 REST         CHAR      (69)      INIT      ((69)' ');       
                                                                        
 DCL     LINIE27 CHAR (133)  BASED(ADDR(LIN27));                        
 DCL     1 LIN27,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('CBILAG_1        '),                                       
          2 CBILAG_1     CHAR      (1),                                 
          2 BLANK1       CHAR      (19)      INIT      ((19)' '),       
          2 TX2          CHAR      (16)      INIT                       
            ('CENKE           '),                                       
          2 CENKE        CHAR      (1),                                 
          2 REST         CHAR      (79)      INIT      ((79)' ');       
                                                                        
 DCL     LINIE28 CHAR (133)  BASED(ADDR(LIN28));                        
 DCL     1 LIN28,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('CBILAG_2        '),                                       
          2 CBILAG_2     CHAR      (1),                                 
          2 BLANK1       CHAR      (19)      INIT      ((19)' '),       
          2 TX2          CHAR      (16)      INIT                       
            ('CFRED           '),                                       
          2 CFRED        CHAR      (1),                                 
          2 REST         CHAR      (79)      INIT      ((79)' ');       
                                                                        
 DCL     LINIE29 CHAR (133)  BASED(ADDR(LIN29));                        
 DCL     1 LIN29,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('CBILAG_3        '),                                       
          2 CBILAG_3     CHAR      (1),                                 
          2 BLANK1       CHAR      (19)      INIT      ((19)' '),       
          2 TX2          CHAR      (16)      INIT                       
            ('BEJBOL1         '),                                       
          2 BEJBOL1      PIC       'ZZZZZZZZZZ9',                       
          2 REST         CHAR      (69)      INIT      ((69)' ');       
 DCL     L29_BL   CHAR (11)  BASED(ADDR(LIN29.BEJBOL1));                
                                                                        
 DCL     LINIE30 CHAR (133)  BASED(ADDR(LIN30));                        
 DCL     1 LIN30,                                                       
          2 CTL          CHAR      (1),                                 
          2 BLANK1       CHAR      (36)      INIT      ((36)' '),       
          2 TX2          CHAR      (16)      INIT                       
            ('BEJBOL2         '),                                       
          2 BEJBOL2      PIC       'ZZZZZZZZZZ9',                       
          2 REST         CHAR      (69)      INIT      ((69)' ');       
 DCL     L30_BL   CHAR (11)  BASED(ADDR(LIN30.BEJBOL2));                
                                                                        
 DCL     LINIE31 CHAR (133)  BASED(ADDR(LIN31));                        
 DCL     1 LIN31,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('GPCTEJERFOR     '),                                       
          2 GPCTEJERFOR  PIC       'Z99,V99',                           
          2 TX2          CHAR      (1)       INIT      ('%'),           
          2 BLANK1       CHAR      (41)      INIT      ((41)' '),       
          2 REST         CHAR      (69)      INIT      ((69)' ');       
                                                                        
 DCL     LINIE32 CHAR (133)  BASED(ADDR(LIN32));                        
 DCL     1 LIN32,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('BFORSKAT        '),                                       
          2 BFORSKAT     PIC       'ZZZZZZZZZZ9',                       
          2 BLANK1       CHAR      (36)      INIT      ((36)' '),       
          2 REST         CHAR      (69)      INIT      ((69)' ');       
 DCL     L32_BL   CHAR (11)  BASED(ADDR(LIN32.BFORSKAT));               
                                                                        
 DCL     LINIE33 CHAR (133)  BASED(ADDR(LIN33));                        
 DCL     1 LIN33,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('CFORSKAT        '),                                       
          2 CFORSKAT     CHAR      (1),                                 
          2 BLANK1       CHAR      (46)      INIT      ((46)' '),       
          2 REST         CHAR      (69)      INIT      ((69)' ');       
                                                                        
 DCL     LINIE34 CHAR (133)  BASED(ADDR(LIN34));                        
 DCL     1 LIN34,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('DOVTGFOR        '),                                       
          2 DOVTGFOR     CHAR      (10),                                
          2 BLANK1       CHAR      (36)      INIT      ((36)' '),       
          2 REST         CHAR      (69)      INIT      ((69)' ');       
                                                                        
 DCL     LINIE35 CHAR (133)  BASED(ADDR(LIN35));                        
 DCL     1 LIN35,                                                       
          2 CTL          CHAR      (1),                                 
          2 TX1          CHAR      (16)      INIT                       
            ('DAFSTAAFOR      '),                                       
          2 DAFSTAAFOR   CHAR      (10),                                
          2 BLANK1       CHAR      (36)      INIT      ((36)' '),       
          2 REST         CHAR      (69)      INIT      ((69)' ');       
                                                                        
         %INCLUDE ZZ20301M;                                             
 /*********************************************************************/
 /*      DECLARE AF BUILTIN                                           */
 /*********************************************************************/
 DCL     ADDR            BUILTIN;                                       
 DCL     SUBSTR          BUILTIN;                                       
 DCL     PLIDUMP         BUILTIN;                                       
 /*********************************************************************/
 /*      DECLARE AF DIVERSE FELTER                                    */
 /*********************************************************************/
 DCL     I               BIN FIXED (15);                                
                                                                        
 DCL     HJDATO1         PIC       '(8)9';                              
                                                                        
 DCL     1 HJDATO1A                             BASED(ADDR(HJDATO1)),   
           2 ÅR          PIC       '9999',                              
           2 MD          PIC       '99',                                
           2 DG          PIC       '99';                                
                                                                        
 DCL     HJCPR           CHAR      (11);                                
 DCL     HJCPR1          PIC       '(6)9B9999'  BASED(ADDR(HJCPR));     
                                                                        
 DCL     HJEJD           CHAR      (7);                                 
 DCL     HJEJD1          PIC       '(5)9B9'     BASED(ADDR(HJEJD));     
                                                                        
 DCL     EOF             PIC       '9'          INIT (0);               
 DCL     LISTE_ID        CHAR      (2)          INIT ('01');            
 DCL     PRTKOM          CHAR      (8);                                 
 DCL     PKOM            PIC       '9999';                              
 DCL     CKOM            CHAR      (4)       BASED(ADDR(PKOM));         
 /*********************************************************************/
 /*      HOUSE-KEEPING                                                */
 /*********************************************************************/
                                                                        
         ON ERROR CALL PLIDUMP('SNHOB');                                
         CALL ZS61900;                 /*   UDSKRIVNING AF SSI-DATO   */
                                                                        
         OPEN FILE (BH961I)  TITLE ('BH96101I');                        
                                                                        
         CALL ZZ20390 ('*OPEN','BQ99701Y');                             
                                                                        
         ON ENDFILE (BH961I)                                            
         BEGIN;                                                         
            EOF = 1;                                                    
         END;                                                           
                                                                        
         PKOM = 0;                                                      
                                                                        
 /*********************************************************************/
 /*      PROCES                                                       */
 /*********************************************************************/
                                                                        
         READ FILE (BH961I) INTO (BH961_AR);                            
                                                                        
         DO WHILE (EOF = 0 & BH961.DCPRN < 99999999999);                
           IF BH961.EKOMNR = 150 !                                      
              BH961.EKOMNR = 420 !                                      
              BH961.EKOMNR = 800                                        
           THEN                                                         
             CALL BEHANDL;                                              
           READ FILE (BH961I) INTO (BH961_AR);                          
         END;                                                           
                                                                        
 /*********************************************************************/
 /*    AFSLUT PROGRAM                                                 */
 /*********************************************************************/
                                                                        
         LINIE = '';                                                    
         CALL ZZ20300(LINIE,'99');                                      
                                                                        
         CLOSE FILE (BH961I);                                           
                                                                        
 /********************************************************************/ 
 /*      SKRIV EEN SIDE PR. AKTUEL EJENDOM (INDIVID)                 */ 
 /********************************************************************/ 
 BEHANDL:                                                               
 PROC;                                                                  
      /*******                                                          
         IF PKOM ^= BH961.EKOMNR)                                       
         THEN                                                           
            DO;                                                         
               PKOM = BH961.EKOMNR;                                     
               PRTKOM = CKOM;                                           
               CALL ZZ20390('*SUB','BH99701Y',PRTKOM);                  
            END;                                                        
       *******/                                                         
                                                                        
         LISTE_ID = '01';        /* både person- og ejendomstabel */    
                                                                        
         DO I = 1 TO 50;                                                
            LINTAB (I) = ' ';                                           
         END;                                                           
                                                                        
         LINIE = ZZIK1;                                                 
         CALL ZZ20300(LINIE,LISTE_ID);                                  
                                                                        
         I = 1;                                                         
         LINTAB(I) = ZZWS3 !!                                           
                 'Test af ejendomsværdiskat ' !!                        
                 'til SLUT 2001';                                       
         I = I + 1;                                                     
                                                                        
         LIN1.CTL = ZZWS2;                                              
         LIN1.EKOMNR = BH961.EKOMNR;                                    
         HJEJD1 = BH961.EEJDNR;                                         
         SUBSTR(HJEJD,6,1) = '-';                                       
         LIN1.EJDNR = HJEJD;                                            
         HJCPR1 = BH961.DCPRN;                                          
         SUBSTR(HJCPR,7,1) = '-';                                       
         LIN1.CPRNR = HJCPR;                                            
         LIN1.CEJBEVS = BH961.CEJBEVS;                                  
         IF BH961.BBERGRL_I = 0                                         
         THEN                                                           
           LIN1.BBERGRL = BH961.BBERGRL;                                
         ELSE                                                           
           L1_BL = ' ';                                                 
         LIN1.CEJDTYPE = BH961.CEJDTYPE;                                
         I = I + 1;                                                     
         LINTAB(I) = LINIE1;                                            
                                                                        
         LIN2.CTL = ZZWS2;                                              
         LIN2.CPRNR = ' ';                                              
         LIN2.CBENYT = BH961.CBENYT;                                    
         LIN2.CBERGRL = BH961.CBERGRL;                                  
         I = I + 1;                                                     
         LINTAB(I) = LINIE2;                                            
                                                                        
         LIN3.CTL = ZZWS2;                                              
         IF BH961.BGRPROM1_I = 0                                        
         THEN                                                           
           LIN3.BGRPROM1 = BH961.BGRPROM1;                              
         ELSE                                                           
           L3_BL = ' ';                                                 
         LIN3.BPROM1 = BH961.BPROM1;                                    
         I = I + 1;                                                     
         LINTAB(I) = LINIE3;                                            
                                                                        
         LIN4.CTL = ZZWS2;                                              
         IF BH961.BGRPROM2_I = 0                                        
         THEN                                                           
           LIN4.BGRPROM2 = BH961.BGRPROM2;                              
         ELSE                                                           
           L4_BL = ' ';                                                 
         LIN4.BPROM2 = BH961.BPROM2;                                    
         I = I + 1;                                                     
         LINTAB(I) = LINIE4;                                            
                                                                        
         LIN5.CTL = ZZWS2;                                              
         LIN5.CNEDSL1 = BH961.CNEDSL1;                                  
         LIN5.BNEDSL1 = BH961.BNEDSL1;                                  
         I = I + 1;                                                     
         LINTAB(I) = LINIE5;                                            
                                                                        
         LIN6.CTL = ZZWS2;                                              
         LIN6.BNEDSL2 = BH961.BNEDSL2;                                  
         IF BH961.BBER2FAM_I = 0                                        
         THEN                                                           
           LIN6.BBER2FAM = BH961.BBER2FAM;                              
         ELSE                                                           
           L6_BL = ' ';                                                 
         I = I + 1;                                                     
         LINTAB(I) = LINIE6;                                            
                                                                        
         LIN7.CTL = ZZWS2;                                              
         LIN7.CPENSNED = BH961.FELT759;                                 
         LIN7.BPENSNED = BH961.BPENSNED;                                
         I = I + 1;                                                     
         LINTAB(I) = LINIE7;                                            
                                                                        
         LIN9.CTL = ZZWS2;                                              
         LIN9.CSTIBEGR = BH961.FELT750;                                 
         LIN9.CSTIBLB  = BH961.CSTIBLB;                                 
         LIN9.BSTIBGR  = BH961.BSTIBGR;                                 
         I = I + 1;                                                     
         LINTAB(I) = LINIE9;                                            
                                                                        
         LIN16.CTL = ZZWS2;                                             
         LIN16.GPCTEJER = BH961.GPCTEJER;                               
         I = I + 1;                                                     
         LINTAB(I) = LINIE16;                                           
                                                                        
         LIN19.CTL = ZZWS2;                                             
         LIN19.FEJLNR = BH961.FEJLNR;                                   
         I = I + 1;                                                     
         LINTAB(I) = LINIE19;                                           
                                                                        
         LINIE = ZZWS2 !! (77)'-' !! (55)' ';                           
         I = I + 1;                                                     
         LINTAB(I) = LINIE;                                             
                                                                        
         LIN20.CTL = ZZWS2;                                             
                                                                        
         I = I + 1;                                                     
         LINTAB(I) = LINIE20;                                           
                                                                        
         LIN21.CTL = ZZWS2;                                             
         LIN21.CPTYPGL = BH961.CPTYPGL;                                 
         I = I + 1;                                                     
         LINTAB(I) = LINIE21;                                           
                                                                        
         LIN22.CTL = ZZWS3;                                             
         LIN22.CPTYPSLUT = BH961.CPTYPSLUT;                             
         I = I + 1;                                                     
         LINTAB(I) = LINIE22;                                           
                                                                        
         LIN23.CTL = ZZWS3;                                             
         LIN23.ELBNR     = BH961.ELBNR;                                 
         I = I + 1;                                                     
         LINTAB(I) = LINIE23;                                           
                                                                        
         LIN24.CTL = ZZWS3;                                             
         LIN24.FLEJL = BH961.FLEJL;                                     
         LIN24.EJDBELIG  = BH961.EJDBELIG;                              
         I = I + 1;                                                     
         LINTAB(I) = LINIE24;                                           
                                                                        
         LIN25.CTL = ZZWS3;                                             
         LIN25.CELØNCOR = BH961.CELØNCOR;                               
         LIN25.DOVTG    = BH961.DOVTG;                                  
         I = I + 1;                                                     
         LINTAB(I) = LINIE25;                                           
                                                                        
         LIN26.CTL = ZZWS3;                                             
         LIN26.CSKPLOMF = BH961.CSKPLOMF;                               
         LIN26.DAFSTAA  = BH961.DAFSTAA;                                
         I = I + 1;                                                     
         LINTAB(I) = LINIE26;                                           
                                                                        
         LIN27.CTL = ZZWS3;                                             
         LIN27.CBILAG_1 = BH961.CBILAG_1;                               
         LIN27.CENKE    = BH961.CENKE;                                  
         I = I + 1;                                                     
         LINTAB(I) = LINIE27;                                           
                                                                        
         LIN28.CTL = ZZWS3;                                             
         I = I + 1;                                                     
         LINTAB(I) = LINIE28;                                           
                                                                        
         LIN29.CTL = ZZWS3;                                             
  /*     IF BH961.BEJBOL1_I = 0                                         
         THEN                                                           
           LIN29.BEJBOL1  = BH961.BEJBOL1;                              
         ELSE                                                           
           L29_BL = ' ';                                                
         I = I + 1;                                                     
         LINTAB(I) = LINIE29;                                           
                                  ESB2003                               
         LIN30.CTL = ZZWS3;                                             
         IF BH961.BEJBOL2_I = 0                                         
         THEN                                                           
           LIN30.BEJBOL2  = BH961.BEJBOL2;                              
         ELSE                                                           
           L30_BL = ' ';                     */                         
         I = I + 1;                                                     
         LINTAB(I) = LINIE30;                                           
                                                                        
         LIN31.CTL = ZZWS3;                                             
         LIN31.GPCTEJERFOR = BH961.GPCTEJERFOR;                         
         I = I + 1;                                                     
         LINTAB(I) = LINIE31;                                           
                                                                        
         LIN32.CTL = ZZWS3;                                             
         IF BH961.BFORSKAT_I = 0                                        
         THEN                                                           
           LIN32.BFORSKAT = BH961.BFORSKAT;                             
         ELSE                                                           
           L32_BL = ' ';                                                
         I = I + 1;                                                     
         LINTAB(I) = LINIE32;                                           
                                                                        
         LIN33.CTL = ZZWS3;                                             
         LIN33.CFORSKAT = BH961.CFORSKAT;                               
         I = I + 1;                                                     
         LINTAB(I) = LINIE33;                                           
                                                                        
         LIN34.CTL = ZZWS3;                                             
         LIN34.DOVTGFOR = BH961.DOVTGFOR;                               
         I = I + 1;                                                     
         LINTAB(I) = LINIE34;                                           
                                                                        
         LIN35.CTL = ZZWS3;                                             
         LIN35.DAFSTAAFOR = BH961.DAFSTAAFOR;                           
         I = I + 1;                                                     
         LINTAB(I) = LINIE35;                                           
                                                                        
         DO I = 1 TO 50;                                                
            IF LINTAB(I) ^= ' '                                         
            THEN                                                        
               DO;                                                      
                  LINIE = LINTAB(I);                                    
                  CALL ZZ20300(LINIE,LISTE_ID);                         
               END;                                                     
         END;                                                           
                                                                        
 END BEHANDL;                                                           
                                                                        
 END BQ99700;                                                           
