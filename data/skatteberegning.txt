
/* SKATTEBEREGNING I PL/I */
/* En omfattende simulering af en dansk skatteberegning */

SKATTEBEREGNING: PROC OPTIONS(MAIN);

   /* Deklarationer */
   DCL BRUTTOLON FLOAT DECIMAL(10,2);
   DCL ATP_BIDRAG FLOAT DECIMAL(10,2);
   DCL AM_BIDRAG FLOAT DECIMAL(10,2);
   DCL FRADRAG FLOAT DECIMAL(10,2);
   DCL SKATTEGRUNDLAG FLOAT DECIMAL(10,2);
   DCL KOMMUNESKAT FLOAT DECIMAL(10,2);
   DCL SUNDHEDSBIDRAG FLOAT DECIMAL(10,2);
   DCL STATSSKAT FLOAT DECIMAL(10,2);
   DCL TOPSKAT FLOAT DECIMAL(10,2);
   DCL BUNDGRÆNSE FLOAT DECIMAL(10,2);
   DCL TOPGRÆNSE FLOAT DECIMAL(10,2);
   DCL KOMMUNESKAT_PROC FLOAT DECIMAL(5,2) INIT(24.8);
   DCL SUNDHEDSBIDRAG_PROC FLOAT DECIMAL(5,2) INIT(2.0);
   DCL STATSSKAT_PROC FLOAT DECIMAL(5,2) INIT(12.1);
   DCL TOPSKAT_PROC FLOAT DECIMAL(5,2) INIT(15.0);
   DCL ATP_FAST FLOAT DECIMAL(10,2) INIT(94.65);
   DCL AM_PROC FLOAT DECIMAL(5,2) INIT(8.0);
   DCL TOTAL_SKAT FLOAT DECIMAL(10,2);
   DCL NETTOINDKOMST FLOAT DECIMAL(10,2);

   /* Initialisering */
   BRUTTOLON = 600000;
   FRADRAG = 46200;
   BUNDGRÆNSE = 568900;
   TOPGRÆNSE = 638100;

   PUT SKIP LIST('Start af skatteberegning for bruttoindkomst:', BRUTTOLON);

   /* Beregn ATP og AM-bidrag */
   ATP_BIDRAG = ATP_FAST;
   AM_BIDRAG = BRUTTOLON * (AM_PROC / 100);

   PUT SKIP LIST('ATP-bidrag:', ATP_BIDRAG);
   PUT SKIP LIST('AM-bidrag:', AM_BIDRAG);

   /* Skattegrundlag */
   SKATTEGRUNDLAG = BRUTTOLON - ATP_BIDRAG - AM_BIDRAG - FRADRAG;

   PUT SKIP LIST('Skattegrundlag efter fradrag:', SKATTEGRUNDLAG);

   /* Kommuneskat */
   KOMMUNESKAT = SKATTEGRUNDLAG * (KOMMUNESKAT_PROC / 100);
   /* Sundhedsbidrag */
   SUNDHEDSBIDRAG = SKATTEGRUNDLAG * (SUNDHEDSBIDRAG_PROC / 100);

   /* Statsskat */
   IF SKATTEGRUNDLAG > BUNDGRÆNSE THEN
      STATSSKAT = (SKATTEGRUNDLAG - BUNDGRÆNSE) * (STATSSKAT_PROC / 100);
   ELSE
      STATSSKAT = 0;

   /* Topskat */
   IF SKATTEGRUNDLAG > TOPGRÆNSE THEN
      TOPSKAT = (SKATTEGRUNDLAG - TOPGRÆNSE) * (TOPSKAT_PROC / 100);
   ELSE
      TOPSKAT = 0;

   /* Samlet skat */
   TOTAL_SKAT = ATP_BIDRAG + AM_BIDRAG + KOMMUNESKAT + SUNDHEDSBIDRAG + STATSSKAT + TOPSKAT;

   /* Nettoindkomst */
   NETTOINDKOMST = BRUTTOLON - TOTAL_SKAT;

   /* Udskriv resultater */
   PUT SKIP LIST('Kommuneskat:', KOMMUNESKAT);
   PUT SKIP LIST('Sundhedsbidrag:', SUNDHEDSBIDRAG);
   PUT SKIP LIST('Statsskat:', STATSSKAT);
   PUT SKIP LIST('Topskat:', TOPSKAT);
   PUT SKIP LIST('Total skat:', TOTAL_SKAT);
   PUT SKIP LIST('Nettoindkomst:', NETTOINDKOMST);

END SKATTEBEREGNING;

/* SKATTEBEREGNING I PL/I */
/* En omfattende simulering af en dansk skatteberegning */

SKATTEBEREGNING: PROC OPTIONS(MAIN);

   /* Deklarationer */
   DCL BRUTTOLON FLOAT DECIMAL(10,2);
   DCL ATP_BIDRAG FLOAT DECIMAL(10,2);
   DCL AM_BIDRAG FLOAT DECIMAL(10,2);
   DCL FRADRAG FLOAT DECIMAL(10,2);
   DCL SKATTEGRUNDLAG FLOAT DECIMAL(10,2);
   DCL KOMMUNESKAT FLOAT DECIMAL(10,2);
   DCL SUNDHEDSBIDRAG FLOAT DECIMAL(10,2);
   DCL STATSSKAT FLOAT DECIMAL(10,2);
   DCL TOPSKAT FLOAT DECIMAL(10,2);
   DCL BUNDGRÆNSE FLOAT DECIMAL(10,2);
   DCL TOPGRÆNSE FLOAT DECIMAL(10,2);
   DCL KOMMUNESKAT_PROC FLOAT DECIMAL(5,2) INIT(24.8);
   DCL SUNDHEDSBIDRAG_PROC FLOAT DECIMAL(5,2) INIT(2.0);
   DCL STATSSKAT_PROC FLOAT DECIMAL(5,2) INIT(12.1);
   DCL TOPSKAT_PROC FLOAT DECIMAL(5,2) INIT(15.0);
   DCL ATP_FAST FLOAT DECIMAL(10,2) INIT(94.65);
   DCL AM_PROC FLOAT DECIMAL(5,2) INIT(8.0);
   DCL TOTAL_SKAT FLOAT DECIMAL(10,2);
   DCL NETTOINDKOMST FLOAT DECIMAL(10,2);

   /* Initialisering */
   BRUTTOLON = 600000;
   FRADRAG = 46200;
   BUNDGRÆNSE = 568900;
   TOPGRÆNSE = 638100;

   PUT SKIP LIST('Start af skatteberegning for bruttoindkomst:', BRUTTOLON);

   /* Beregn ATP og AM-bidrag */
   ATP_BIDRAG = ATP_FAST;
   AM_BIDRAG = BRUTTOLON * (AM_PROC / 100);

   PUT SKIP LIST('ATP-bidrag:', ATP_BIDRAG);
   PUT SKIP LIST('AM-bidrag:', AM_BIDRAG);

   /* Skattegrundlag */
   SKATTEGRUNDLAG = BRUTTOLON - ATP_BIDRAG - AM_BIDRAG - FRADRAG;

   PUT SKIP LIST('Skattegrundlag efter fradrag:', SKATTEGRUNDLAG);

   /* Kommuneskat */
   KOMMUNESKAT = SKATTEGRUNDLAG * (KOMMUNESKAT_PROC / 100);
   /* Sundhedsbidrag */
   SUNDHEDSBIDRAG = SKATTEGRUNDLAG * (SUNDHEDSBIDRAG_PROC / 100);

   /* Statsskat */
   IF SKATTEGRUNDLAG > BUNDGRÆNSE THEN
      STATSSKAT = (SKATTEGRUNDLAG - BUNDGRÆNSE) * (STATSSKAT_PROC / 100);
   ELSE
      STATSSKAT = 0;

   /* Topskat */
   IF SKATTEGRUNDLAG > TOPGRÆNSE THEN
      TOPSKAT = (SKATTEGRUNDLAG - TOPGRÆNSE) * (TOPSKAT_PROC / 100);
   ELSE
      TOPSKAT = 0;

   /* Samlet skat */
   TOTAL_SKAT = ATP_BIDRAG + AM_BIDRAG + KOMMUNESKAT + SUNDHEDSBIDRAG + STATSSKAT + TOPSKAT;

   /* Nettoindkomst */
   NETTOINDKOMST = BRUTTOLON - TOTAL_SKAT;

   /* Udskriv resultater */
   PUT SKIP LIST('Kommuneskat:', KOMMUNESKAT);
   PUT SKIP LIST('Sundhedsbidrag:', SUNDHEDSBIDRAG);
   PUT SKIP LIST('Statsskat:', STATSSKAT);
   PUT SKIP LIST('Topskat:', TOPSKAT);
   PUT SKIP LIST('Total skat:', TOTAL_SKAT);
   PUT SKIP LIST('Nettoindkomst:', NETTOINDKOMST);

END SKATTEBEREGNING;

/* SKATTEBEREGNING I PL/I */
/* En omfattende simulering af en dansk skatteberegning */

SKATTEBEREGNING: PROC OPTIONS(MAIN);

   /* Deklarationer */
   DCL BRUTTOLON FLOAT DECIMAL(10,2);
   DCL ATP_BIDRAG FLOAT DECIMAL(10,2);
   DCL AM_BIDRAG FLOAT DECIMAL(10,2);
   DCL FRADRAG FLOAT DECIMAL(10,2);
   DCL SKATTEGRUNDLAG FLOAT DECIMAL(10,2);
   DCL KOMMUNESKAT FLOAT DECIMAL(10,2);
   DCL SUNDHEDSBIDRAG FLOAT DECIMAL(10,2);
   DCL STATSSKAT FLOAT DECIMAL(10,2);
   DCL TOPSKAT FLOAT DECIMAL(10,2);
   DCL BUNDGRÆNSE FLOAT DECIMAL(10,2);
   DCL TOPGRÆNSE FLOAT DECIMAL(10,2);
   DCL KOMMUNESKAT_PROC FLOAT DECIMAL(5,2) INIT(24.8);
   DCL SUNDHEDSBIDRAG_PROC FLOAT DECIMAL(5,2) INIT(2.0);
   DCL STATSSKAT_PROC FLOAT DECIMAL(5,2) INIT(12.1);
   DCL TOPSKAT_PROC FLOAT DECIMAL(5,2) INIT(15.0);
   DCL ATP_FAST FLOAT DECIMAL(10,2) INIT(94.65);
   DCL AM_PROC FLOAT DECIMAL(5,2) INIT(8.0);
   DCL TOTAL_SKAT FLOAT DECIMAL(10,2);
   DCL NETTOINDKOMST FLOAT DECIMAL(10,2);

   /* Initialisering */
   BRUTTOLON = 600000;
   FRADRAG = 46200;
   BUNDGRÆNSE = 568900;
   TOPGRÆNSE = 638100;

   PUT SKIP LIST('Start af skatteberegning for bruttoindkomst:', BRUTTOLON);

   /* Beregn ATP og AM-bidrag */
   ATP_BIDRAG = ATP_FAST;
   AM_BIDRAG = BRUTTOLON * (AM_PROC / 100);

   PUT SKIP LIST('ATP-bidrag:', ATP_BIDRAG);
   PUT SKIP LIST('AM-bidrag:', AM_BIDRAG);

   /* Skattegrundlag */
   SKATTEGRUNDLAG = BRUTTOLON - ATP_BIDRAG - AM_BIDRAG - FRADRAG;

   PUT SKIP LIST('Skattegrundlag efter fradrag:', SKATTEGRUNDLAG);

   /* Kommuneskat */
   KOMMUNESKAT = SKATTEGRUNDLAG * (KOMMUNESKAT_PROC / 100);
   /* Sundhedsbidrag */
   SUNDHEDSBIDRAG = SKATTEGRUNDLAG * (SUNDHEDSBIDRAG_PROC / 100);

   /* Statsskat */
   IF SKATTEGRUNDLAG > BUNDGRÆNSE THEN
      STATSSKAT = (SKATTEGRUNDLAG - BUNDGRÆNSE) * (STATSSKAT_PROC / 100);
   ELSE
      STATSSKAT = 0;

   /* Topskat */
   IF SKATTEGRUNDLAG > TOPGRÆNSE THEN
      TOPSKAT = (SKATTEGRUNDLAG - TOPGRÆNSE) * (TOPSKAT_PROC / 100);
   ELSE
      TOPSKAT = 0;

   /* Samlet skat */
   TOTAL_SKAT = ATP_BIDRAG + AM_BIDRAG + KOMMUNESKAT + SUNDHEDSBIDRAG + STATSSKAT + TOPSKAT;

   /* Nettoindkomst */
   NETTOINDKOMST = BRUTTOLON - TOTAL_SKAT;

   /* Udskriv resultater */
   PUT SKIP LIST('Kommuneskat:', KOMMUNESKAT);
   PUT SKIP LIST('Sundhedsbidrag:', SUNDHEDSBIDRAG);
   PUT SKIP LIST('Statsskat:', STATSSKAT);
   PUT SKIP LIST('Topskat:', TOPSKAT);
   PUT SKIP LIST('Total skat:', TOTAL_SKAT);
   PUT SKIP LIST('Nettoindkomst:', NETTOINDKOMST);

END SKATTEBEREGNING;
